<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Brew Haven | Checkout</title>
  <meta name="description" content="Checkout page for Brew Haven with a PayPal Sandbox mock payment." />
  <style>@font-face { font-family: 'Inter'; src: url('#') format('woff2'); }</style>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config={theme:{extend:{fontFamily:{body:['Inter','system-ui']}}}}</script>
</head>
<body class="min-h-screen bg-amber-50 text-gray-800">
  <header class="w-full fixed top-0 left-0 right-0 bg-white/80 backdrop-filter backdrop-blur-lg shadow-sm z-50">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-2" aria-label="Brew Haven Home">
        <span class="text-xl font-serif" style="font-family: 'ElegantSerif', serif;">Brew Haven</span>
      </a>
      <nav class="hidden md:flex items-center space-x-6">
        <a href="index.html" class="text-gray-700">Home</a>
        <a href="menu.html" class="text-gray-700">Menu</a>
        <a href="cart.html" class="text-gray-700">Cart</a>
      </nav>
    </div>
  </header>

  <main class="pt-28 pb-16 w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <h1 class="text-3xl font-serif mb-4" style="font-family: 'ElegantSerif', serif;">Checkout</h1>
    <section id="checkout-summary" aria-label="Order summary" class="bg-white rounded-xl shadow-md p-6 border border-amber-100 mb-6"></section>
    <section id="payment" aria-label="Payment" class="bg-white rounded-xl shadow-md p-6 border border-amber-100">
      <h2 class="text-xl font-semibold mb-2" style="font-family: 'Inter', sans-serif;">Pay with PayPal (Sandbox)</h2>
      <p class="text-sm mb-4">This is a mockPayment simulation for demonstration purposes.</p>
      <button class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-md" onclick="mockPay()">Pay with PayPal Sandbox</button>
      <p id="pay-status" class="mt-3 text-green-700"></p>
    </section>
  </main>

  <footer class="bg-stone-800 text-gray-300 pt-8 pb-6 mt-12">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center">© 2025 Brew Haven</div>
  </footer>

  <script>
    function renderCheckout() {
      const key = 'brew_cart';
      const cart = JSON.parse(localStorage.getItem(key) || '[]');
      let total = 0;
      const summary = document.getElementById('checkout-summary');
      summary.innerHTML = '<h3 class="text-lg font-semibold mb-2">Order Summary</h3>';
      if (cart.length === 0) {
        summary.innerHTML += '<p>Your cart is empty.</p>';
        return;
      }
      const ul = document.createElement('ul');
      cart.forEach(it => { total += it.price * it.qty; ul.innerHTML += `<li>${it.name} × ${it.qty} - ₹${it.price * it.qty}</li>`; });
      summary.appendChild(ul);
      const totalP = document.createElement('p');
      totalP.className = 'mt-2 font-semibold';
      totalP.textContent = 'Total: ₹' + total;
      summary.appendChild(totalP);
    }

    function mockPay() {
      const status = document.getElementById('pay-status');
      status.textContent = 'Processing sandbox payment...';
      setTimeout(() => {
        status.textContent = 'Payment approved (Sandbox). Thank you for your order!';
        // Clear cart after successful mock payment
        localStorage.removeItem('brew_cart');
      }, 1200);
    }

    document.addEventListener('DOMContentLoaded', renderCheckout);
  </script>
</body>
</html>